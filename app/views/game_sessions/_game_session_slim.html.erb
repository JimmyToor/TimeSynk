<%# locals: (game_session:, container_tag: :div) %>
<div class="game_session_<%= game_session.id %>_details flex w-full items-center justify-between mr-2 mb-2 lg:mb-0 lg:basis-1/3">
  <%= link_to game_session,
              id: dom_id(game_session, :link),
              data: {turbo_frame: "modal_frame"},
              title: t("game_session.view.label",
                       game_name: game_session.game_name,
                       group_name: game_session.group_name),
              class: "after:absolute after:top-0 after:bottom-0 after:left-0 after:right-0" do %>
    <span class="game_session_<%= game_session.id %>_details_date">
      <%= render "game_sessions/game_session_date", game_session: game_session %>
    </span>
  <% end %>
  <%= render "game_sessions/game_session_duration", game_session: game_session %>
</div>
<div data-controller="dialog"
     data-dialog-ignore-submit-success-value=true,
     class="flex items-center lg:basis-2/3">

  <button title="<%= t('game_session.view_attendance') %>"
          data-action="dialog#open"
          class="bg-secondary-300 hover:bg-secondary-200 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm
          dark:bg-secondary-500 dark:hover:bg-secondary-400 dark:border-secondary-200 text-white border
          border-secondary-500 inline-flex items-center justify-center">
    Attendance
  </button>

  <div class="game_session_<%= game_session.id %>_attendance_details contents">
    <%= render "game_session_attendances/game_session_attendance_list", game_session: game_session, limit: 10 %>
    <%= render "game_session_attendances/full_game_session_attendance_modal", game_session: game_session %>
  </div>
</div>
<%= turbo_stream_from(game_session, data: {single_stream_target: "stream"})%>