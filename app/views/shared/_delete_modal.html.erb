<%# locals: (resource:, resource_title: "", button_content: nil, form_partial:, container_tag: :div, container_classes:"", ignore_success: true) %>
<%= content_tag container_tag,
                role: "presentation",
                data: {controller: "dialog", dialog_ignore_submit_success_value: ignore_success},
                class: container_classes do %>
  <% if button_content.present? %>
    <%= button_content %>
  <% else %>
    <%= render "shared/buttons/dialog_delete_button", extra_classes:"flex items-center px-2" %>
  <% end %>

  <% title_content = capture do %>
    <div class="flex items-center px-2">
      <span class="text-notice-400"><%= inline_svg_tag "icons/exclamation-triangle.svg" %></span>
      <h2 class="ml-1 text-lg font-semibold">
        Delete <%= resource.class.name.titleize %><%= resource_title.blank? ? "" : ": #{resource_title}" %>
      </h2>
    </div>
  <% end %>

  <% body_content = capture do %>
    <%= render form_partial, resource.model_name.param_key.to_sym => resource %>
    <%= render "shared/notification", id: "#{resource.model_name.param_key}_#{resource.id}" %>
  
  <% end %>

  <%= render "shared/confirmation_modal",
             title_content: title_content,
             body_content: body_content,
             id: "#{resource.model_name.param_key}_#{resource.id}"%>
<% end %>