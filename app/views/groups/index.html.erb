<%= render 'shared/notification', id: "groups" %>

<div id="groups" class="relative space-y-4">
  <% @groups.each do |group| %>
    <div class="group-container relative flex" id="group_<%= group.id %>_container">
      <%= render group,
                 group_availability: group.get_user_group_availability(Current.user),
                 group_permission_set: group.make_permission_set(group.users.to_a)%>
      <%= card_link_to_group(group) %>
    </div>
  <% end %>
  <%= render "shared/table_nav" %>
</div>

<div class="my-4 space-x-2">
  <%= render "shared/buttons/primary_link", path: new_group_path, text:"New Group", data: {turbo_frame: "modal_frame"} %>
  <%= render "shared/buttons/secondary_link", path: join_group_with_token_path, text: "Join Group" %>
</div>
